server:
  port: 8080
  mode: release
  read_timeout: 30s
  write_timeout: 30s
  max_header_bytes: 1048576

grpc:
  auth_service: "${AUTH_SERVICE_ADDR:-auth-service:9001}"
  parser_service: "${PARSER_SERVICE_ADDR:-parser-service:9002}"
  asset_service: "${ASSET_SERVICE_ADDR:-asset-service:9004}"
  timeout: 5s

redis:
  addr: "${REDIS_ADDR:-redis:6379}"
  password: "${REDIS_PASSWORD:-}"
  db: 0
  pool_size: 100

rabbitmq:
  url: "${RABBITMQ_URL:-amqp://guest:guest@rabbitmq:5672/}"
  exchange: "vasset.download.exchange"
  queue: "vasset.download.queue"
  routing_key: "download.quick"

cors:
  allowed_origins:
    - "http://localhost:3000"
    - "http://ytdlp.obstream.com:3000"
    - "https://ytdlp.obstream.com"
  allowed_methods:
    - "GET"
    - "POST"
    - "PUT"
    - "DELETE"
    - "OPTIONS"
  allowed_headers:
    - "Authorization"
    - "Content-Type"
    - "X-Request-ID"
  max_age: 86400

rate_limit:
  global_rps: 200
  user_rps: 10
  burst: 20

file_download:
  max_concurrent: 50
  buffer_size: 32768

logging:
  level: info
  format: json
